parameters:
- name: version
  type: version
  default: 2.4.47

- name: relocatable
  type: bool
  default: false

extends: [autotools_package]

dependencies:
  build: [pkg-config]

sources:
- key:
    when version == 2.4.47: tar.gz:ev3s6zj2ywzohtxlrhpvbzdirci6eh3s
  url: http://download.savannah.gnu.org/releases/attr/attr-{{version}}.src.tar.gz

when_build_dependency:
- prepend_path: PKG_CONFIG_PATH
  value: '${ARTIFACT}/lib/pkgconfig'

build_stages:
- name: install
  after: make
  mode: replace
  handler: bash
  bash: |
    make install install-lib install-dev
