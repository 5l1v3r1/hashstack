parameters:
- name: version
  type: version
  default: 2.24

- name: relocatable
  type: bool
  default: false

extends: [autotools_package]

dependencies:
  build: [zlib]

sources:
- key:
    when version == 2.24: tar.bz2:4xumlpuwmtt7p6lobuezdeiqvnnnlf3z
  url: http://ftp.heanet.ie/mirrors/gnu/binutils/binutils-{{version}}.tar.bz2

build_stages:

- name: configure
  mode: override
  when: platform == 'Darwin'
  extra: ['--disable-werror']

when_build_dependency:
- prepend_path: PATH
  value: '${ARTIFACT}/bin'
