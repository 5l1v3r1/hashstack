parameters:
- name: version
  type: version
  default: 0.18.1

extends: [autotools_package]

dependencies:
  build: [gmp, isl, pkg-config]

build_stages:
  - name: configure
    mode: override
    extra:
      - --with-isl=system
      - --with-isl-prefix=${ISL_DIR}

sources:
- url: http://www.bastoul.net/cloog/pages/download/count.php3?url=./cloog-{{version}}.tar.gz
  key:
    when version == 0.18.1: tar.gz:ajiautw5csdv7fh6qtf63jbjaqs4wda4

when_build_dependency:
- prepend_path: PKG_CONFIG_PATH
  value: '${ARTIFACT}/lib/pkgconfig'
- prepend_path: PATH
  value: '${ARTIFACT}/bin'
