parameters:
- name: version
  type: version
  default: 2.24.8

- name: relocatable
  type: bool
  default: false

extends: [autotools_package]

dependencies:
  build:
    - atk
    - cairo
    - gdk-pixbuf
    - gettext
    - glib2
    - gobject-introspection
    - libiconv
    - pango
    - pkg-config
    - png
    - fontconfig
    - pixman
    - freetype
  run:
    - pkg-config

sources:
- url: http://ftp.gnome.org/pub/gnome/sources/gtk+/{{'.'.join(str(version).split('.')[:-1])}}/gtk+-{{version}}.tar.bz2
  key:
    when version == 2.24.8: tar.bz2:vqrsljstckjcuzzcu7acuoe7h5ahfv46
    when version == 2.23.3: tar.bz2:rwm3w6cvln6uvhdnikberfp3jujn3opt

when_build_dependency:
- prepend_path: PKG_CONFIG_PATH
  value: '${ARTIFACT}/lib/pkgconfig'
- prepend_path: PATH
  value: '${ARTIFACT}/bin'
