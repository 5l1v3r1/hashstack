parameters:
- name: version
  type: version
  default: 4.6.1

# lib/libITKIOIPL-4.6.so.1 contains hard-coded path
- name: relocatable
  type: bool
  default: false

extends: [cmake_package]

sources:
- key:
    when version == 4.6.1: tar.gz:5vbpstamb36ohtc4xthhgbjnwqbj75kp
  url: http://downloads.sourceforge.net/project/itk/itk/{{'.'.join(str(version).split('.')[:-1])}}/InsightToolkit-{{version}}.tar.gz

build_stages:
- name: configure
  extra: ['-D BUILD_EXAMPLES:BOOL=OFF',
          '-D BUILD_TESTING:BOOL=OFF',
          '-D BUILD_SHARED_LIBS:BOOL=ON',
          '-D ITK_USE_REVIEW:BOOL=ON',
          '-D ITK_USE_REVIEW_STATISTICS:BOOL=ON',
          '-D ITK_USE_OPTIMIZED_REGISTRATION_METHODS:BOOL=ON']
