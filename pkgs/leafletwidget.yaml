extends: [distutils_package]

dependencies:
  build:
    - ipython
    - when airgap:
      - requests
  run:
    - ipython

sources:
  - url: https://github.com/erdc-cm/leafletwidget
    key: git:6aede6c2efd0f843d93335998a2a5d8aae355269


# WARNING: This installs into user's .ipython directory
# This is not properly isolated yet.

build_stages:
  - when: airgap
    name: airgap
    after: install
    handler: bash
    bash: |
      unset IPYTHON_DIR && ${PYTHON} install-nbextension.py
