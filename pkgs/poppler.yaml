parameters:
- name: version
  type: version
  default: 0.22.5

- name: relocatable
  type: bool
  default: false

extends: [autotools_package]

dependencies:
  build: [pkg-config, fontconfig, freetype, png, libtiff, zlib, glib2, cairo]
  run: [pkg-config]

sources:
- url: http://poppler.freedesktop.org/poppler-{{version}}.tar.gz
  key:
    when version == 0.22.5: tar.gz:65bkhehrx5fgqjcs6wlhrzq23u5i6k4y

when_build_dependency:
- prepend_path: PKG_CONFIG_PATH
  value: '${ARTIFACT}/lib/pkgconfig'
- prepend_path: PATH
  value: '${ARTIFACT}/bin'
