extends: [namespace_package]
dependencies:
  build: [daetk, numpy, mpi, python, cmake, cython, petsc, petsc4py, triangle, hdf5, blas]
  run: [daetk, ipython, matplotlib, nose, mpi4py, petsc4py, pytables, sphinx, sympy, tetgen, triangle, hdf5, blas]

sources:
  - key: git:1a018f74d77a9d6ccc071b9724ca790a9186e68c
    url: https://github.com/erdc-cm/proteus

build_stages:
  - before: install
    handler: bash
    bash: |
      export PROTEUS_ARCH=$(python -c "import sys; print sys.platform")

# Proteus is a namespace package, do *not* link the Proteus directory itself in.
profile_links:
  - name: python_packages
    mode: replace
    link: 'lib/python{{pyver}}/site-packages/proteus/**/*'
    dirs: true
