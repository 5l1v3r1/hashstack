extends: [distutils_package]

dependencies:
  build: [python, jasper, grib_api, pyproj, numpy, png, zlib]
  run: [python, pyproj]

sources:
- key: git:f4b24ee1142be88d66137935424a354567aec7a8
  url: https://github.com/jswhit/pygrib.git

build_stages:
- name: create-setup.cfg
  before: install
  handler: bash
  bash: |
    cat > setup.cfg << EOF
    [directories]
    grib_api_dir=${GRIB_API_DIR}
    jasper_dir=${JASPER_DIR}
    png_dir=${PNG_DIR}
    zlib_dir=${ZLIB_DIR}
    EOF

