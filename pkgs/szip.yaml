parameters:
- name: version
  type: version
  default: 2.1

extends: [cmake_package]

sources:
- url: http://www.hdfgroup.org/ftp/lib-external/szip/{{version}}/src/szip-{{version}}.tar.gz
  key:
    when version == 2.1: tar.gz:valnsxkwmlucpfrfvpn6u7iomikx27i7

build_stages:
- name: configure
  mode: override
  extra: ['-DCMAKE_BUILD_TYPE:STRING=" "']

- when: platform == 'Cygwin'
  name: configure
  handler: bash
  mode: replace
  bash: |
    cmake -DBUILD_SHARED_LIBS=true .
